<template>	<el-dialog v-loading="loading" element-loading-text="加载中" title="详情" :visible.sync="visible" width="850px" @close="closeDialog">		<div class="content">			<table class="table">				<tr>					<p class="form-label">基本信息</p>				</tr>				<tr>					<td>姓名：{{interview.name}}</td>					<td>性别：{{interview.sex}}</td>					<td>电话：{{interview.phone}}</td>				</tr>				<tr>					<td>部门：{{interview.department}}</td>					<td>岗位：{{interview.station}}</td>					<td>招聘渠道：{{interview.channel}}</td>				</tr>				<tr>					<td>现所在公司：{{interview.presentCompany}}</td>					<td>学校：{{interview.school}}</td>					<td>毕业时间：{{interview.graduateTime}}</td>				</tr>				<tr>					<td colspan="3">						<el-button type="primary" size="small" @click="download(interview.resume)">下载简历</el-button>
						<span style="color: #F56C6C;margin-left: 10px;">{{errMessage}}</span>					</td>				</tr>				<tr>					<p class="form-label">面试情况</p>				</tr>				<tr>					<td>进度： {{interview.end}}</td>				</tr>				<tr>					<td>电话面试</td>				</tr>				<tr>					<td class="sub-td">时间：{{interview.telephoneInterview.time}}</td>					<td class="sub-td">面试人：{{interview.telephoneInterview.interviewer}}</td>					<td class="sub-td">结果：{{interview.telephoneInterview.result}}</td>				</tr>				<tr>					<td>现场面试</td>				</tr>				<tr>					<td class="sub-td">时间：{{interview.onSiteInterview.time}}</td>					<td class="sub-td">一面结果：{{interview.onSiteInterview.oneSideResult}}</td>					<td class="sub-td">二面结果：{{interview.onSiteInterview.secondSideResult}}</td>				</tr>				<tr>					<td colspan="3">面试评价：{{interview.interviewEvaluate}}</td>				</tr>				<tr>					<td>推荐给其他组：{{interview.recommended}}</td>					<td>接收offer：{{interview.receiveOffer}}</td>					<td>拟报到时间：{{interview.reportTime}}</td>				</tr>				<tr>					<td colspan="3">备注：{{interview.remark}}</td>				</tr>			</table>		</div>	</el-dialog></template><script>	export default {		name: "InterviewDetail",		props: {			id: {				type: '',				required: true			}		},		data() {			return {				cancelToken: null,				loading: false,				visible: true,				errMessage: '',				interview: {					name: '', //名称					department: '', //部门					resume: '',//简历					phone: '', //电话					channel: '', //招聘渠道					station: '', //岗位					sex: '', //性别					presentCompany: '', //现所在公司					school: '', //学校					graduateTime: null, //毕业时间					telephoneInterview: {						//电话面试						time: null, //时间						interviewer: '', //面试人						result: '' //面试结果					},					recommended: '', //是否推荐给其他组					onSiteInterview: {						time: null, //时间						oneSideResult: '', //一面结果,						secondSideResult: '', //二面结果					},					interviewEvaluate: '', //面试评价					receiveOffer: '', //应聘者是否接收offer					end: Boolean, //是否结束面试流程					reportTime: null, //拟报到时间					remark: '' //备注				}			}		},		methods: {			closeDialog() {				this.$emit('close');			},			download(resume){				if(resume){					window.open('/' + resume);						}else{					this.errMessage = '该应聘者并未上传简历';				}			},			getDetail() {				let id = this.id;				this.loading = true;				api.interview.getInterDetail(id, this.cancelToken).then(res => 				{					this.loading = false;					let interview = res.interview;					this.interview.name = interview.name;					this.interview.resume = interview.resume;					this.interview.department = interview.department;					this.interview.phone = interview.phone;					this.interview.channel = interview.channel;					this.interview.presentCompany = interview.presentCompany;					this.interview.station = interview.station;					this.interview.sex = interview.sex;					this.interview.school = interview.school;					this.interview.graduateTime = $global.changeUTCTime(interview.graduateTime);					this.interview.telephoneInterview.time = $global.changeUTCTime(interview.telephoneInterview.time);					this.interview.telephoneInterview.interviewer = interview.telephoneInterview.interviewer;					this.interview.telephoneInterview.result = interview.telephoneInterview.result;					this.interview.recommended = interview.recommended;					this.interview.onSiteInterview.time = $global.changeUTCTime(interview.onSiteInterview.time);					this.interview.onSiteInterview.oneSideResult = interview.onSiteInterview.oneSideResult;					this.interview.onSiteInterview.secondSideResult = interview.onSiteInterview.secondSideResult;					this.interview.interviewEvaluate = interview.interviewEvaluate;					this.interview.receiveOffer = interview.receiveOffer;					this.interview.end = interview.end?'面试结束':'面试中';					this.interview.reportTime = $global.changeUTCTime(interview.reportTime);					this.interview.remark = interview.remark;				}).catch(err => {					this.loading = false;					this.$emit('close');					let errMessage = getErrMessage('interview', err.response.data);					this.$message({						type: 'error',						message: errMessage					});				})			}		},		mounted() {			this.getDetail();			this.cancelToken = new $cancelToken(c => {				this.cancel = c;			})		}	}</script><style scoped>	.content {		overflow: auto;		max-height: 420px;		padding: 0px 10px;	}		.table {		width: 100%;		height: 400px;		table-layout: fixed;		border: 1px solid #EEE;	}		.table td {		height: 30px;		padding-left: 30px;		line-height: 30px;		text-align: left;		font-size: 15px;	}		.table .sub-td {		width: 150px;	}		.table .sub-td:first-child {		padding-left: 40px;	}		.form-label{	 		margin: 10px 0px 0px 10px;	 		padding: 0px;	 		font-weight: bold;	 }	 </style>